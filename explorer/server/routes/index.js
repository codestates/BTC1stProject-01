var express = require("express");
var router = express.Router();
const Blocks = require("../models/Blocks");

router.get("/", function (req, res) {
  res.status(200).send("welcome");
});

router.get("/getblocks", async function (req, res) {
  const block = new Blocks({
    number: 21891000,
    viewID: 21896536,
    epoch: 75333,
    hash: "0xeb4ffcfca90386fb179bf99b45421c4c0eb10ea58aafcae15d6164be67fd2e8e",
    parentHash: "0x7e517ff7e4c987390a97048b3b9f986f0a002492d8e7d966b58d1433b3d2062c",
    nonce: 0,
    mixHash: "0x0000000000000000000000000000000000000000000000000000000000000000",
    logsBloom:
      "0x00020000000000000000010000000000000000000000000000000000000400000000100000000000000000000000000000000000000200000000000000000000000000000000000000000001002000000000000001000000000000000000000000000000024000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000480000000000000000000000000000000001008000000000000000000000000000000000000000000000000000000000000220000002000000000000000004000000000000000000000000020000000000000000000000000000000000000000040000000000000000000000000",
    stateRoot: "0xf6592bfb27311e7231233b1b4d8d5dd4e208b44fb0e9812dbd3772f2492b1f90",
    miner: "one1yc06ghr2p8xnl2380kpfayweguuhxdtupkhqzw",
    difficulty: 0,
    extraData: "0x",
    size: 1969,
    gasLimit: 80000000,
    gasUsed: 185329,
    timeStamp: 1645714516,
    transactionsToor: "0x2dc7b6cd220280406a2cca39ee523049712407642750b78c843707fd361e85ec",
    receiptsRoot: "0xa1b34588c444a6bfdc353e4d727ecc834c427238fbc1ecc3befe933b723efe8b",
    uncles: [],
    transactions: ["0x04cbd88b73ec5f572b0e56d44edeec1ba21d808da877950bb2a7107c8d49c192"],
    stakingTransactions: [],
  });
  await block.save();
  res.status(200).send("새로운 블록 DB생성 생성");
});

module.exports = router;
